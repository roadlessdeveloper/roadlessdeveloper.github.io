---
layout: page
title: Contacto
permalink: /contact/
---

<!-- <form method="POST" action="https://roadlessdeveloper.herokuapp.com/contact"> -->
<form>
    <div>
        <label for="email">Email</label>
        <input type="email" name="from" id="from">
        <label for="subject">Asunto</label>
        <input type="text" name="subject" id="subject">
        <label for="body">Mensaje</label>
        <textarea name="body" id="body" cols="30" rows="10"></textarea>
    </div>
    <div style="text-align: right;">
        <input name="submit" type="submit" value="Enviar">
    </div>    
</form>
<script>
    window.addEventListener('load', function(){
        const form = document.querySelector('form');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            let data = new FormData(form);
            fetch("https://roadlessdeveloper.herokuapp.com/contact", {
                method: 'POST',
                body: data,
                mode: 'cors',
                headers: {
                    'Access-Control-Allow-Origin':'*'
                }
            }).then( response => {
                return response.text();
            }).then( texto => {
                if( texto == 'OK' )
                    window.location = `${window.location.origin}/success`;
                else
                    window.location = `${window.location.origin}/error`;
            }).catch( error => {
                window.location = `${window.location.origin}/error`;
            })
        })
    });
</script>
